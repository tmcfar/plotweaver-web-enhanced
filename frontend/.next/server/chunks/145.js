"use strict";exports.id=145,exports.ids=[145],exports.modules={9508:(e,t,s)=>{s.d(t,{$g:()=>l,Aq:()=>n,HS:()=>o,YK:()=>i});var a=s(60687);s(43210);var r=s(4780);let i=({className:e,size:t=24})=>(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.cn)("text-current",e),children:[(0,a.jsx)("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"m15 5 4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n=({className:e,size:t=24})=>(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.cn)("text-current",e),children:[(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("circle",{cx:"9",cy:"9",r:"1",fill:"currentColor"}),(0,a.jsx)("circle",{cx:"15",cy:"9",r:"1",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8 15s1.5 2 4 2 4-2 4-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),o=({className:e,size:t=24})=>(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.cn)("text-current",e),children:[(0,a.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("path",{d:"m22 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"m16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),l=({className:e,size:t=24})=>(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.cn)("text-current",e),children:(0,a.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},15079:(e,t,s)=>{s.d(t,{bq:()=>u,eb:()=>j,gC:()=>h,l6:()=>d,yv:()=>m});var a=s(60687),r=s(43210),i=s(99952),n=s(78272),o=s(3589),l=s(13964),c=s(4780);let d=i.bL;i.YJ;let m=i.WT,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.l9.displayName;let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}));p.displayName=i.PP.displayName;let x=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let h=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(p,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(x,{})]})}));h.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let j=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]}));j.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},31393:(e,t,s)=>{s.d(t,{W5:()=>c,n3:()=>l});var a=s(60687);s(43210);var r=s(4780),i=s(29523),n=s(9508);let o=({className:e,title:t,description:s,action:n,icon:o})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center text-center py-16 px-4",e),children:[o&&(0,a.jsx)("div",{className:"mb-6 text-muted-foreground",children:o}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:s}),n&&(0,a.jsx)(i.$,{onClick:n.onClick,children:n.label})]}),l=({onCreateProject:e,className:t})=>(0,a.jsx)(o,{className:t,icon:(0,a.jsx)(n.YK,{size:48}),title:"No projects yet",description:"Start your writing journey by creating your first project. Choose from templates or start from scratch.",action:{label:"Create Your First Project",onClick:e}}),c=({title:e="Something went wrong",description:t="An error occurred while loading this content. Please try again.",onRetry:s,className:r})=>(0,a.jsx)(o,{className:r,icon:(0,a.jsx)("div",{className:"text-4xl mb-2 text-destructive",children:"⚠️"}),title:e,description:t,action:s?{label:"Try Again",onClick:s}:void 0})},65073:(e,t,s)=>{s.d(t,{z:()=>F});var a=s(60687),r=s(43210),i=s(16189),n=s(28559),o=s(13964),l=s(70334),c=s(29523),d=s(89667),m=s(44493),u=s(96834),p=s(23562),x=s(26134),h=s(11860),j=s(4780);let f=x.bL;x.l9;let g=x.ZL;x.bm;let y=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(x.hJ,{ref:s,className:(0,j.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));y.displayName=x.hJ.displayName;let v=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(g,{children:[(0,a.jsx)(y,{}),(0,a.jsxs)(x.UC,{ref:r,className:(0,j.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(x.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));v.displayName=x.UC.displayName;let N=({className:e,...t})=>(0,a.jsx)("div",{className:(0,j.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});N.displayName="DialogHeader";let w=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(x.hE,{ref:s,className:(0,j.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));w.displayName=x.hE.displayName;let b=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(x.VY,{ref:s,className:(0,j.cn)("text-sm text-muted-foreground",e),...t}));b.displayName=x.VY.displayName;var C=s(15079),k=s(9508),S=s(78718),T=s(96173);let P={title:"",description:"",genre:"",writingMode:"professional-writer",tags:[]},A=["Fiction","Non-fiction","Fantasy","Science Fiction","Mystery","Romance","Thriller","Horror","Historical Fiction","Young Adult","Children's","Biography","Memoir","Self-Help","Business","Technical","Other"],E=[{value:"professional-writer",title:"Professional Writer",description:"Full control with AI assistance",icon:(0,a.jsx)(k.YK,{size:24}),features:["Manual control","Advanced features","Git operations","Full customization"]},{value:"ai-first",title:"AI-First Creation",description:"Let AI lead the creative process",icon:(0,a.jsx)(k.Aq,{size:24}),features:["Auto-generation","Simplified UI","Quick results","Smart suggestions"]},{value:"editor",title:"Editor & Reviewer",description:"Review and annotate content",icon:(0,a.jsx)(k.HS,{size:24}),features:["Read-only mode","Annotations","Reports","Collaboration"]},{value:"hobbyist",title:"Creative Explorer",description:"Fun, casual writing experience",icon:(0,a.jsx)(k.$g,{size:24}),features:["Gamification","Templates","Community","Simple tools"]}];function F({open:e,onOpenChange:t}){let s=(0,i.useRouter)(),[x,h]=(0,r.useState)(0),[j,g]=(0,r.useState)(P),{data:y=[]}=(0,S.GQ)(),k=(0,S.bL)(),F=[{title:"Choose Mode",description:"Select your writing style"},{title:"Project Details",description:"Basic information"},{title:"Story Setup",description:"Genre and structure"},{title:"Review",description:"Confirm your project"}],M=y.find(e=>e.id===j.templateId),I=async()=>{let e={title:j.title,description:j.description||void 0,genre:j.genre,writingMode:j.writingMode,templateId:j.templateId,targetWordCount:j.targetWordCount,tags:j.tags.length>0?j.tags:void 0};k.mutate(e,{onSuccess:e=>{t(!1),h(0),g(P),s.push(`/projects/${e.id}`)}})},L=()=>{switch(x){case 0:return!!j.writingMode;case 1:return j.title.trim().length>0;case 2:return!!j.genre;case 3:return!0;default:return!1}};return(0,a.jsx)(f,{open:e,onOpenChange:t,children:(0,a.jsxs)(v,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(N,{children:[(0,a.jsx)(w,{children:"Create New Project"}),(0,a.jsxs)(b,{children:["Step ",x+1," of ",F.length,": ",F[x].description]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.k,{value:(x+1)/F.length*100}),(0,a.jsx)("div",{className:"flex justify-between text-xs text-muted-foreground",children:F.map((e,t)=>(0,a.jsx)("span",{className:t<=x?"text-foreground font-medium":"",children:e.title},t))})]}),(0,a.jsx)("div",{className:"py-6",children:(()=>{switch(x){case 0:return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"How do you want to write?"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Choose the writing mode that best fits your style and goals."})]}),(0,a.jsx)("div",{className:"grid gap-4",children:E.map(e=>(0,a.jsxs)(m.Zp,{className:`cursor-pointer transition-all hover:shadow-md ${j.writingMode===e.value?"ring-2 ring-primary":""}`,onClick:()=>g(t=>({...t,writingMode:e.value})),children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-primary",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(m.ZB,{className:"text-base",children:e.title}),(0,a.jsx)(m.BT,{children:e.description})]})]})}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.features.map(e=>(0,a.jsx)(u.E,{variant:"secondary",className:"text-xs",children:e},e))})})]},e.value))})]});case 1:return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Project Details"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Give your project a name and description."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Project Title *"}),(0,a.jsx)(d.p,{placeholder:"My Amazing Novel",value:j.title,onChange:e=>g(t=>({...t,title:e.target.value})),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,a.jsx)("textarea",{placeholder:"A brief description of your project...",value:j.description,onChange:e=>g(t=>({...t,description:e.target.value})),className:"mt-1 w-full px-3 py-2 border border-input rounded-md bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",rows:3})]})]})]});case 2:return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Story Setup"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Choose your genre and set optional goals."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Genre *"}),(0,a.jsxs)(C.l6,{value:j.genre,onValueChange:e=>g(t=>({...t,genre:e})),children:[(0,a.jsx)(C.bq,{className:"mt-1",children:(0,a.jsx)(C.yv,{placeholder:"Select a genre"})}),(0,a.jsx)(C.gC,{children:A.map(e=>(0,a.jsx)(C.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Target Word Count (Optional)"}),(0,a.jsx)(d.p,{type:"number",placeholder:"80000",value:j.targetWordCount||"",onChange:e=>g(t=>({...t,targetWordCount:e.target.value?parseInt(e.target.value):void 0})),className:"mt-1"})]}),y.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Template (Optional)"}),(0,a.jsxs)(C.l6,{value:j.templateId||"",onValueChange:e=>g(t=>({...t,templateId:e||void 0})),children:[(0,a.jsx)(C.bq,{className:"mt-1",children:(0,a.jsx)(C.yv,{placeholder:"Choose a template"})}),(0,a.jsxs)(C.gC,{children:[(0,a.jsx)(C.eb,{value:"",children:"No template"}),y.map(e=>(0,a.jsx)(C.eb,{value:e.id,children:e.name},e.id))]})]}),M&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:M.description})]})]})]});case 3:return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Review & Create"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Review your project details before creating."})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:j.title}),j.description&&(0,a.jsx)(m.BT,{children:j.description})]}),(0,a.jsxs)(m.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Writing Mode"}),(0,a.jsx)(u.E,{variant:"outline",children:E.find(e=>e.value===j.writingMode)?.title})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Genre"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:j.genre})]}),j.targetWordCount&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Target Word Count"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[j.targetWordCount.toLocaleString()," words"]})]}),M&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Template"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:M.name})]})]})]})]});default:return null}})()}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>{x>0&&h(x-1)},disabled:0===x,children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:x===F.length-1?(0,a.jsx)(c.$,{onClick:I,disabled:!L()||k.isPending,children:k.isPending?(0,a.jsx)(T.Ou,{size:"sm"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create Project"]})}):(0,a.jsxs)(c.$,{onClick:()=>{x<F.length-1&&h(x+1)},disabled:!L(),children:["Next",(0,a.jsx)(l.A,{className:"h-4 w-4 ml-2"})]})})]})]})})}},78718:(e,t,s)=>{s.d(t,{jm:()=>S,bL:()=>b,eW:()=>C,il:()=>k,yG:()=>w,GQ:()=>N,YK:()=>v});var a=s(51423),r=s(8693),i=s(54050);let n="https://api.plotweaver.com";class o{async getProjects(){let e=await fetch(`${n}/api/projects`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch projects");return e.json()}async getProject(e){let t=await fetch(`${n}/api/projects/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch project");return t.json()}async createProject(e){let t=await fetch(`${n}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create project");return t.json()}async updateProject(e,t){let s=await fetch(`${n}/api/projects/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update project");return s.json()}async deleteProject(e){if(!(await fetch(`${n}/api/projects/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete project")}async getProjectTemplates(){let e=await fetch(`${n}/api/project-templates`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch project templates");return e.json()}async getProjectStats(){let e=await fetch(`${n}/api/projects/stats`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch project stats");return e.json()}async duplicateProject(e,t){let s=await fetch(`${n}/api/projects/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!s.ok)throw Error("Failed to duplicate project");return s.json()}async archiveProject(e){await this.updateProject(e,{status:"archived"})}async restoreProject(e){await this.updateProject(e,{status:"draft"})}}let l=new o;var c=s(43210);let d=0,m=new Map,u=e=>{if(m.has(e))return;let t=setTimeout(()=>{m.delete(e),j({type:"REMOVE_TOAST",toastId:e})},1e6);m.set(e,t)},p=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?u(s):e.toasts.forEach(e=>{u(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},x=[],h={toasts:[]};function j(e){h=p(h,e),x.forEach(e=>{e(h)})}function f({...e}){let t=(d=(d+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>j({type:"DISMISS_TOAST",toastId:t});return j({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>j({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function g(){let[e,t]=c.useState(h);return c.useEffect(()=>(x.push(t),()=>{let e=x.indexOf(t);e>-1&&x.splice(e,1)}),[e]),{...e,toast:f,dismiss:e=>j({type:"DISMISS_TOAST",toastId:e})}}let y={projects:["projects"],project:e=>["projects",e],templates:["project-templates"],stats:["project-stats"]};function v(){return(0,a.I)({queryKey:y.projects,queryFn:l.getProjects,staleTime:3e5})}function N(){return(0,a.I)({queryKey:y.templates,queryFn:l.getProjectTemplates,staleTime:18e5})}function w(){return(0,a.I)({queryKey:y.stats,queryFn:l.getProjectStats,staleTime:6e4})}function b(){let e=(0,r.jE)(),{toast:t}=g();return(0,i.n)({mutationFn:e=>l.createProject(e),onSuccess:s=>{e.setQueryData(y.projects,e=>e?[s,...e]:[s]),e.invalidateQueries({queryKey:y.stats}),t({title:"Project created",description:`"${s.title}" has been created successfully.`})},onError:e=>{t({title:"Failed to create project",description:e.message,variant:"destructive"})}})}function C(){let e=(0,r.jE)(),{toast:t}=g();return(0,i.n)({mutationFn:l.deleteProject,onSuccess:(s,a)=>{e.setQueryData(y.projects,e=>e?.filter(e=>e.id!==a)||[]),e.removeQueries({queryKey:y.project(a)}),e.invalidateQueries({queryKey:y.stats}),t({title:"Project deleted",description:"The project has been permanently deleted."})},onError:e=>{t({title:"Failed to delete project",description:e.message,variant:"destructive"})}})}function k(){let e=(0,r.jE)(),{toast:t}=g();return(0,i.n)({mutationFn:({id:e,title:t})=>l.duplicateProject(e,t),onSuccess:s=>{e.setQueryData(y.projects,e=>e?[s,...e]:[s]),e.invalidateQueries({queryKey:y.stats}),t({title:"Project duplicated",description:`"${s.title}" has been created.`})},onError:e=>{t({title:"Failed to duplicate project",description:e.message,variant:"destructive"})}})}function S(){let{mutate:e,...t}=function(){let e=(0,r.jE)(),{toast:t}=g();return(0,i.n)({mutationFn:({id:e,data:t})=>l.updateProject(e,t),onSuccess:s=>{e.setQueryData(y.project(s.id),s),e.setQueryData(y.projects,e=>e?.map(e=>e.id===s.id?s:e)||[]),e.invalidateQueries({queryKey:y.stats}),t({title:"Project updated",description:`"${s.title}" has been updated.`})},onError:e=>{t({title:"Failed to update project",description:e.message,variant:"destructive"})}})}();return{mutate:t=>{e({id:t,data:{status:"archived"}})},...t}}},96173:(e,t,s)=>{s.d(t,{Ou:()=>n,u4:()=>o});var a=s(60687);s(43210);var r=s(4780);let i=({className:e,size:t="md",variant:s="spinner",text:i})=>{let n={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},o=()=>(0,a.jsx)("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-muted border-t-primary",n[t],e)}),l=()=>(0,a.jsx)("div",{className:(0,r.cn)("flex space-x-1",e),children:[0,1,2].map(e=>(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-full bg-primary","sm"===t&&"h-2 w-2","md"===t&&"h-3 w-3","lg"===t&&"h-4 w-4"),style:{animationDelay:`${.15*e}s`,animationDuration:"1s"}},e))}),c=()=>(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-full bg-primary",n[t],e)}),d=()=>(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center",e),children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:i||"Writing"}),(0,a.jsx)("span",{className:"ml-1 animate-pulse text-primary",children:"|"})]});return(0,a.jsx)("div",{className:"flex items-center justify-center",children:(()=>{switch(s){case"dots":return(0,a.jsx)(l,{});case"pulse":return(0,a.jsx)(c,{});case"typewriter":return(0,a.jsx)(d,{});default:return(0,a.jsx)(o,{})}})()})},n=({className:e,message:t,size:s="sm"})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center space-x-2",e),children:[(0,a.jsx)(i,{size:s,variant:"spinner"}),t&&(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:t})]}),o=({className:e})=>(0,a.jsx)("div",{className:(0,r.cn)("rounded-lg border p-6",e),children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})})}};