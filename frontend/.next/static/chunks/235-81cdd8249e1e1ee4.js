"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{285:(e,t,r)=>{r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(9708),i=r(2085),o=r(9434);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},302:(e,t,r)=>{r.d(t,{$g:()=>l,Aq:()=>i,HS:()=>o,YK:()=>n});var s=r(5155);r(2115);var a=r(9434);let n=e=>{let{className:t,size:r=24}=e;return(0,s.jsxs)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,a.cn)("text-current",t),children:[(0,s.jsx)("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"m15 5 4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},i=e=>{let{className:t,size:r=24}=e;return(0,s.jsxs)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,a.cn)("text-current",t),children:[(0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("circle",{cx:"9",cy:"9",r:"1",fill:"currentColor"}),(0,s.jsx)("circle",{cx:"15",cy:"9",r:"1",fill:"currentColor"}),(0,s.jsx)("path",{d:"M8 15s1.5 2 4 2 4-2 4-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})},o=e=>{let{className:t,size:r=24}=e;return(0,s.jsxs)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,a.cn)("text-current",t),children:[(0,s.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"m22 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"m16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{className:t,size:r=24}=e;return(0,s.jsx)("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,a.cn)("text-current",t),children:(0,s.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},2523:(e,t,r)=>{r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},3045:(e,t,r)=>{r.d(t,{Ou:()=>i,u4:()=>o});var s=r(5155);r(2115);var a=r(9434);let n=e=>{let{className:t,size:r="md",variant:n="spinner",text:i}=e,o={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},l=()=>(0,s.jsx)("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-muted border-t-primary",o[r],t)}),d=()=>(0,s.jsx)("div",{className:(0,a.cn)("flex space-x-1",t),children:[0,1,2].map(e=>(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-full bg-primary","sm"===r&&"h-2 w-2","md"===r&&"h-3 w-3","lg"===r&&"h-4 w-4"),style:{animationDelay:"".concat(.15*e,"s"),animationDuration:"1s"}},e))}),c=()=>(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-full bg-primary",o[r],t)}),u=()=>(0,s.jsxs)("div",{className:(0,a.cn)("flex items-center",t),children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:i||"Writing"}),(0,s.jsx)("span",{className:"ml-1 animate-pulse text-primary",children:"|"})]});return(0,s.jsx)("div",{className:"flex items-center justify-center",children:(()=>{switch(n){case"dots":return(0,s.jsx)(d,{});case"pulse":return(0,s.jsx)(c,{});case"typewriter":return(0,s.jsx)(u,{});default:return(0,s.jsx)(l,{})}})()})},i=e=>{let{className:t,message:r,size:i="sm"}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("flex items-center space-x-2",t),children:[(0,s.jsx)(n,{size:i,variant:"spinner"}),r&&(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:r})]})},o=e=>{let{className:t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("rounded-lg border p-6",t),children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),(0,s.jsx)("div",{className:"h-3 bg-muted rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-muted rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})})}},3621:(e,t,r)=>{r.d(t,{W5:()=>d,n3:()=>l});var s=r(5155);r(2115);var a=r(9434),n=r(285),i=r(302);let o=e=>{let{className:t,title:r,description:i,action:o,icon:l}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center text-center py-16 px-4",t),children:[l&&(0,s.jsx)("div",{className:"mb-6 text-muted-foreground",children:l}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:r}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:i}),o&&(0,s.jsx)(n.$,{onClick:o.onClick,children:o.label})]})},l=e=>{let{onCreateProject:t,className:r}=e;return(0,s.jsx)(o,{className:r,icon:(0,s.jsx)(i.YK,{size:48}),title:"No projects yet",description:"Start your writing journey by creating your first project. Choose from templates or start from scratch.",action:{label:"Create Your First Project",onClick:t}})},d=e=>{let{title:t="Something went wrong",description:r="An error occurred while loading this content. Please try again.",onRetry:a,className:n}=e;return(0,s.jsx)(o,{className:n,icon:(0,s.jsx)("div",{className:"text-4xl mb-2 text-destructive",children:"⚠️"}),title:t,description:r,action:a?{label:"Try Again",onClick:a}:void 0})}},4944:(e,t,r)=>{r.d(t,{k:()=>o});var s=r(5155),a=r(2115),n=r(5863),i=r(9434);let o=a.forwardRef((e,t)=>{let{className:r,value:a,...o}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...o,children:(0,s.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});o.displayName=n.bL.displayName},6126:(e,t,r)=>{r.d(t,{E:()=>o});var s=r(5155);r(2115);var a=r(2085),n=r(9434);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},6695:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8042:(e,t,r)=>{r.d(t,{jm:()=>S,bL:()=>w,eW:()=>C,il:()=>k,yG:()=>N,GQ:()=>b,YK:()=>y});var s=r(2960),a=r(6715),n=r(5041);let i="https://api.plotweaver.com";class o{async getProjects(){let e=await fetch("".concat(i,"/api/projects"),{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch projects");return e.json()}async getProject(e){let t=await fetch("".concat(i,"/api/projects/").concat(e),{headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch project");return t.json()}async createProject(e){let t=await fetch("".concat(i,"/api/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create project");return t.json()}async updateProject(e,t){let r=await fetch("".concat(i,"/api/projects/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update project");return r.json()}async deleteProject(e){if(!(await fetch("".concat(i,"/api/projects/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete project")}async getProjectTemplates(){let e=await fetch("".concat(i,"/api/project-templates"),{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch project templates");return e.json()}async getProjectStats(){let e=await fetch("".concat(i,"/api/projects/stats"),{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch project stats");return e.json()}async duplicateProject(e,t){let r=await fetch("".concat(i,"/api/projects/").concat(e,"/duplicate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});if(!r.ok)throw Error("Failed to duplicate project");return r.json()}async archiveProject(e){await this.updateProject(e,{status:"archived"})}async restoreProject(e){await this.updateProject(e,{status:"draft"})}}let l=new o;var d=r(2115);let c=0,u=new Map,m=e=>{if(u.has(e))return;let t=setTimeout(()=>{u.delete(e),h({type:"REMOVE_TOAST",toastId:e})},1e6);u.set(e,t)},p=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?m(r):e.toasts.forEach(e=>{m(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},f=[],x={toasts:[]};function h(e){x=p(x,e),f.forEach(e=>{e(x)})}function j(e){let{...t}=e,r=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>h({type:"DISMISS_TOAST",toastId:r});return h({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>h({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function g(){let[e,t]=d.useState(x);return d.useEffect(()=>(f.push(t),()=>{let e=f.indexOf(t);e>-1&&f.splice(e,1)}),[e]),{...e,toast:j,dismiss:e=>h({type:"DISMISS_TOAST",toastId:e})}}let v={projects:["projects"],project:e=>["projects",e],templates:["project-templates"],stats:["project-stats"]};function y(){return(0,s.I)({queryKey:v.projects,queryFn:l.getProjects,staleTime:3e5})}function b(){return(0,s.I)({queryKey:v.templates,queryFn:l.getProjectTemplates,staleTime:18e5})}function N(){return(0,s.I)({queryKey:v.stats,queryFn:l.getProjectStats,staleTime:6e4})}function w(){let e=(0,a.jE)(),{toast:t}=g();return(0,n.n)({mutationFn:e=>l.createProject(e),onSuccess:r=>{e.setQueryData(v.projects,e=>e?[r,...e]:[r]),e.invalidateQueries({queryKey:v.stats}),t({title:"Project created",description:'"'.concat(r.title,'" has been created successfully.')})},onError:e=>{t({title:"Failed to create project",description:e.message,variant:"destructive"})}})}function C(){let e=(0,a.jE)(),{toast:t}=g();return(0,n.n)({mutationFn:l.deleteProject,onSuccess:(r,s)=>{e.setQueryData(v.projects,e=>(null==e?void 0:e.filter(e=>e.id!==s))||[]),e.removeQueries({queryKey:v.project(s)}),e.invalidateQueries({queryKey:v.stats}),t({title:"Project deleted",description:"The project has been permanently deleted."})},onError:e=>{t({title:"Failed to delete project",description:e.message,variant:"destructive"})}})}function k(){let e=(0,a.jE)(),{toast:t}=g();return(0,n.n)({mutationFn:e=>{let{id:t,title:r}=e;return l.duplicateProject(t,r)},onSuccess:r=>{e.setQueryData(v.projects,e=>e?[r,...e]:[r]),e.invalidateQueries({queryKey:v.stats}),t({title:"Project duplicated",description:'"'.concat(r.title,'" has been created.')})},onError:e=>{t({title:"Failed to duplicate project",description:e.message,variant:"destructive"})}})}function S(){let{mutate:e,...t}=function(){let e=(0,a.jE)(),{toast:t}=g();return(0,n.n)({mutationFn:e=>{let{id:t,data:r}=e;return l.updateProject(t,r)},onSuccess:r=>{e.setQueryData(v.project(r.id),r),e.setQueryData(v.projects,e=>(null==e?void 0:e.map(e=>e.id===r.id?r:e))||[]),e.invalidateQueries({queryKey:v.stats}),t({title:"Project updated",description:'"'.concat(r.title,'" has been updated.')})},onError:e=>{t({title:"Failed to update project",description:e.message,variant:"destructive"})}})}();return{mutate:t=>{e({id:t,data:{status:"archived"}})},...t}}},9409:(e,t,r)=>{r.d(t,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var s=r(5155),a=r(2115),n=r(83),i=r(6474),o=r(7863),l=r(5196),d=r(9434);let c=n.bL;n.YJ;let u=n.WT,m=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[a,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=n.wn.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,position:i="popper",...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...o,children:[(0,s.jsx)(p,{}),(0,s.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(f,{})]})})});x.displayName=n.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=n.JU.displayName;let h=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:a})]})});h.displayName=n.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.wv.displayName},9434:(e,t,r)=>{r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9799:(e,t,r)=>{r.d(t,{z:()=>R});var s=r(5155),a=r(2115),n=r(5695),i=r(7550),o=r(5196),l=r(2138),d=r(285),c=r(2523),u=r(6695),m=r(6126),p=r(4944),f=r(5452),x=r(4416),h=r(9434);let j=f.bL;f.l9;let g=f.ZL;f.bm;let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.hJ,{ref:t,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});v.displayName=f.hJ.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(g,{children:[(0,s.jsx)(v,{}),(0,s.jsxs)(f.UC,{ref:t,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n,children:[a,(0,s.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=f.UC.displayName;let b=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};b.displayName="DialogHeader";let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.hE,{ref:t,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});N.displayName=f.hE.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.VY,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",r),...a})});w.displayName=f.VY.displayName;var C=r(9409),k=r(302),S=r(8042),T=r(3045);let P={title:"",description:"",genre:"",writingMode:"professional-writer",tags:[]},E=["Fiction","Non-fiction","Fantasy","Science Fiction","Mystery","Romance","Thriller","Horror","Historical Fiction","Young Adult","Children's","Biography","Memoir","Self-Help","Business","Technical","Other"],A=[{value:"professional-writer",title:"Professional Writer",description:"Full control with AI assistance",icon:(0,s.jsx)(k.YK,{size:24}),features:["Manual control","Advanced features","Git operations","Full customization"]},{value:"ai-first",title:"AI-First Creation",description:"Let AI lead the creative process",icon:(0,s.jsx)(k.Aq,{size:24}),features:["Auto-generation","Simplified UI","Quick results","Smart suggestions"]},{value:"editor",title:"Editor & Reviewer",description:"Review and annotate content",icon:(0,s.jsx)(k.HS,{size:24}),features:["Read-only mode","Annotations","Reports","Collaboration"]},{value:"hobbyist",title:"Creative Explorer",description:"Fun, casual writing experience",icon:(0,s.jsx)(k.$g,{size:24}),features:["Gamification","Templates","Community","Simple tools"]}];function R(e){let{open:t,onOpenChange:r}=e,f=(0,n.useRouter)(),[x,h]=(0,a.useState)(0),[g,v]=(0,a.useState)(P),{data:k=[]}=(0,S.GQ)(),R=(0,S.bL)(),F=[{title:"Choose Mode",description:"Select your writing style"},{title:"Project Details",description:"Basic information"},{title:"Story Setup",description:"Genre and structure"},{title:"Review",description:"Confirm your project"}],L=k.find(e=>e.id===g.templateId),I=async()=>{let e={title:g.title,description:g.description||void 0,genre:g.genre,writingMode:g.writingMode,templateId:g.templateId,targetWordCount:g.targetWordCount,tags:g.tags.length>0?g.tags:void 0};R.mutate(e,{onSuccess:e=>{r(!1),h(0),v(P),f.push("/projects/".concat(e.id))}})},M=()=>{switch(x){case 0:return!!g.writingMode;case 1:return g.title.trim().length>0;case 2:return!!g.genre;case 3:return!0;default:return!1}};return(0,s.jsx)(j,{open:t,onOpenChange:r,children:(0,s.jsxs)(y,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsxs)(b,{children:[(0,s.jsx)(N,{children:"Create New Project"}),(0,s.jsxs)(w,{children:["Step ",x+1," of ",F.length,": ",F[x].description]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.k,{value:(x+1)/F.length*100}),(0,s.jsx)("div",{className:"flex justify-between text-xs text-muted-foreground",children:F.map((e,t)=>(0,s.jsx)("span",{className:t<=x?"text-foreground font-medium":"",children:e.title},t))})]}),(0,s.jsx)("div",{className:"py-6",children:(()=>{switch(x){case 0:return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"How do you want to write?"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Choose the writing mode that best fits your style and goals."})]}),(0,s.jsx)("div",{className:"grid gap-4",children:A.map(e=>(0,s.jsxs)(u.Zp,{className:"cursor-pointer transition-all hover:shadow-md ".concat(g.writingMode===e.value?"ring-2 ring-primary":""),onClick:()=>v(t=>({...t,writingMode:e.value})),children:[(0,s.jsx)(u.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-primary",children:e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(u.ZB,{className:"text-base",children:e.title}),(0,s.jsx)(u.BT,{children:e.description})]})]})}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.features.map(e=>(0,s.jsx)(m.E,{variant:"secondary",className:"text-xs",children:e},e))})})]},e.value))})]});case 1:return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Project Details"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Give your project a name and description."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Project Title *"}),(0,s.jsx)(c.p,{placeholder:"My Amazing Novel",value:g.title,onChange:e=>v(t=>({...t,title:e.target.value})),className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,s.jsx)("textarea",{placeholder:"A brief description of your project...",value:g.description,onChange:e=>v(t=>({...t,description:e.target.value})),className:"mt-1 w-full px-3 py-2 border border-input rounded-md bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",rows:3})]})]})]});case 2:return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Story Setup"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Choose your genre and set optional goals."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Genre *"}),(0,s.jsxs)(C.l6,{value:g.genre,onValueChange:e=>v(t=>({...t,genre:e})),children:[(0,s.jsx)(C.bq,{className:"mt-1",children:(0,s.jsx)(C.yv,{placeholder:"Select a genre"})}),(0,s.jsx)(C.gC,{children:E.map(e=>(0,s.jsx)(C.eb,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Target Word Count (Optional)"}),(0,s.jsx)(c.p,{type:"number",placeholder:"80000",value:g.targetWordCount||"",onChange:e=>v(t=>({...t,targetWordCount:e.target.value?parseInt(e.target.value):void 0})),className:"mt-1"})]}),k.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Template (Optional)"}),(0,s.jsxs)(C.l6,{value:g.templateId||"",onValueChange:e=>v(t=>({...t,templateId:e||void 0})),children:[(0,s.jsx)(C.bq,{className:"mt-1",children:(0,s.jsx)(C.yv,{placeholder:"Choose a template"})}),(0,s.jsxs)(C.gC,{children:[(0,s.jsx)(C.eb,{value:"",children:"No template"}),k.map(e=>(0,s.jsx)(C.eb,{value:e.id,children:e.name},e.id))]})]}),L&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:L.description})]})]})]});case 3:var e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Review & Create"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Review your project details before creating."})]}),(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:g.title}),g.description&&(0,s.jsx)(u.BT,{children:g.description})]}),(0,s.jsxs)(u.Wu,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Writing Mode"}),(0,s.jsx)(m.E,{variant:"outline",children:null==(e=A.find(e=>e.value===g.writingMode))?void 0:e.title})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Genre"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:g.genre})]}),g.targetWordCount&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Target Word Count"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[g.targetWordCount.toLocaleString()," words"]})]}),L&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Template"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:L.name})]})]})]})]});default:return null}})()}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,s.jsxs)(d.$,{variant:"outline",onClick:()=>{x>0&&h(x-1)},disabled:0===x,children:[(0,s.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:x===F.length-1?(0,s.jsx)(d.$,{onClick:I,disabled:!M()||R.isPending,children:R.isPending?(0,s.jsx)(T.Ou,{size:"sm"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create Project"]})}):(0,s.jsxs)(d.$,{onClick:()=>{x<F.length-1&&h(x+1)},disabled:!M(),children:["Next",(0,s.jsx)(l.A,{className:"h-4 w-4 ml-2"})]})})]})]})})}}}]);